@graphql-tools/load and @graphql-tools/graphql-file-loader

aliases

eslint for permissions - eslint plugin vs checking strings during compilationhttps://github.com/dotansimha/graphql-eslint/blob/master/docs/parser-options.md#graphqlparseroptions

ignore linting/formatting for autogenerated files, since it slows down performance;
if we want to format, we should use hooks provided by the generator and exclude generated files from general lint/perttier configs

fields not used in schema may be checked by eslint plugin

? runnig eslint watch as a (partially) separate script/terminal (restarts and their reason)

? code-file-loader registered in graphql-config

? import module

===

# import statements

## why it's not convenient to build fragments during compilation?

To update a fragment we need to recalc fragment type and all dependent documents on fragment change.
This means that on project start we need to check all files and build a kind of a dependency graph,
which then will be used on fragment update to update dependent files.

IT'S HANDLED BY DEFAULT FOR GLOBAL FRAGMENTS.

## Linting fragments

IDE eslint integration will throw errors on validation if a fragment wasn't defined in the checked file or
in project documents. Possible workaround for this would be to prepare fragments info during eslint plugin
setup and use it during the checks. This solution will have problems:

(1) Since linter doesn't support watched files' dependencies, updating a fragment won't result in errors in
the code importing the fragment. This means we only will know about error on the final build step (not in
dev mode). NOTE: without dependencies concept we will always have this problem.

(2) Since fragments info is prepared beforehand (in the plugin implementation), even after fragments change,
we will still use the initial (already wrong) info about the fragments. This could be mitigated by using file
watchers that update the info during change, though problem (1) will persist.

(3) This solution can break existing rules for validating schema, since the imported fragments possibly should
be treated by the tooling as a dependencies of some sort, but there won't be a method to provide that info. Eg.
by the spec there cannot be two fragments with the same name in one document. With imports approach we have no
ability to express that the imported files relate to one document, so two fragments with the same name will be
valid. Another example is that eslint-plugin-graphql validation rule will expect fragments in the graphql files
or in the documents: if we exclude documents, the rule won't work since there is no fragments; if we include
the documents, there might be name conflicts (the plugin takes first entry into account) - which is worse than
using global names validated to be different.

===

Loader allows to load a document in a certain format, eg. graphql or json.

===

INVESTIGATE

Providing fragments globally, so their files autoregenerated?

precommit hook for linting

CONCLUSION

Since schema validation is critical for our needs we have to use existing solution with global fragment names.
If we don't, we need to implement custom eslint plugin and reimplement at least one validation rule (Linting fragments 3).
Current eslint plugin doesn't allow for the desirible extension.
